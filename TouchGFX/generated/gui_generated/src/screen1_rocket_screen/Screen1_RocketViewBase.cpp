/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/screen1_rocket_screen/Screen1_RocketViewBase.hpp>
#include <touchgfx/canvas_widget_renderer/CanvasWidgetRenderer.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>
#include<images/SVGDatabase.hpp>

Screen1_RocketViewBase::Screen1_RocketViewBase() :
    frameCountMoveBackgroundInterval(0),
    frameCountScreen1_to_Screen2Interval(0)
{
    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);
    
    __background.setPosition(0, 0, 480, 480);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    box1.setPosition(0, 0, 480, 480);
    box1.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(box1);

    pillars_of_creation.setXY(-480, -160);
    pillars_of_creation.setBitmap(touchgfx::Bitmap(BITMAP_PILLARS_OF_CREATION_LARGE_ID));
    add(pillars_of_creation);

    rocket.setSVG(SVG_ROCKET2_ID);
    rocket.setPosition(481, -140, 497, 480);
    rocket.setScale(6.0f, 6.0f);
    rocket.setImagePosition(56.5f, 48.0f);
    rocket.setRotationCenter(248.5f, 240.0f);
    rocket.setRotation(-135.0f);
    add(rocket);
}

Screen1_RocketViewBase::~Screen1_RocketViewBase()
{
    touchgfx::CanvasWidgetRenderer::resetBuffer();
}

void Screen1_RocketViewBase::setupScreen()
{

}

void Screen1_RocketViewBase::handleTickEvent()
{
    frameCountMoveBackgroundInterval++;
    if(frameCountMoveBackgroundInterval == TICK_MOVEBACKGROUND_INTERVAL)
    {
        //MoveBackground
        //When every N tick call virtual function
        //Call moveBackground
        moveBackground();
        frameCountMoveBackgroundInterval = 0;
    }

    //rocketMovement
    //When every N tick call virtual function
    //Call flyRocket
    flyRocket();

    frameCountScreen1_to_Screen2Interval++;
    if(frameCountScreen1_to_Screen2Interval == TICK_SCREEN1_TO_SCREEN2_INTERVAL)
    {
        //Screen1_to_Screen2
        //When every N tick change screen to Screen2_Roulette
        //Go to Screen2_Roulette with screen transition towards East
        application().gotoScreen2_RouletteScreenSlideTransitionEast();
        frameCountScreen1_to_Screen2Interval = 0;
    }
}
